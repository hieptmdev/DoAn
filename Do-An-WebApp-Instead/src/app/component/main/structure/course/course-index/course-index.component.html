<div class="content-wrapper">
  <app-course-search (eventSearch)="search($event)"></app-course-search>
  <div class="row">
    <div class="col-lg-12 grid-margin stretch-card">
      <div class="card">
        <div class="card-body">
          <h3 class="card-title">{{'table.title.course'|transloco}}</h3>
          <table class="table table-hover">
            <thead>
            <tr>
              <th style="width: 10px;">{{'table.number'|transloco}}</th>
              <th>{{'table.code'|transloco}}</th>
              <th>{{'label.course.name'|transloco}}</th>
              <th>{{'label.course.begin_date'|transloco}}</th>
              <th>{{'label.course.end_date'|transloco}}</th>
              <th>{{'table.description'|transloco}}</th>
              <th style="width: 15px;">{{'table.action'|transloco}}</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let c of courses, index as i">
              <td>{{i+1}}</td>
              <td>{{c.code}}</td>
              <td>{{c.name}}</td>
              <td>{{c.startDate|date: 'dd/MM/yyyy'}}</td>
              <td>{{c.endDate|date: 'dd/MM/yyyy'}}</td>
              <td>{{c.description}}</td>
              <td ngbDropdown container="body">
                <div class="dropdown">
                  <button class="btn btn-sm btn-primary dropdown-toggle" type="button" [id]="'ddBtn'+c.id"
                          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{'button.action'|transloco}}</button>
                  <div class="dropdown-menu" aria-labelledby="{{'ddBtn'+c.id}}">
                    <button class="dropdown-item btn btn-sm">{{'button.student.info'|transloco}}</button>
                    <button class="dropdown-item btn btn-sm">{{'button.student.score'|transloco}}</button>
                    <button class="dropdown-item btn btn-sm">{{'button.student.leave_study'|transloco}}</button>
                    <button class="dropdown-item btn btn-sm">{{'button.delete'|transloco}}</button>
                  </div>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
          <div *ngIf="courses==null||courses.length==0">
            <h6 style="color: red;">{{'error.empty_list_data'|transloco}}</h6>
          </div>
          <ngb-pagination [collectionSize]="collectionSize" [(page)]="page" [maxSize]="maxSize"
                          [rotate]="true" [ellipses]="false" [boundaryLinks]="true"
                          [pageSize]="pageSize" (pageChange)="pageChange()"></ngb-pagination>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #deleteModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">{{'label.notification'|transloco}}</h4>
  </div>
  <div class="modal-body">
    {{'message.delete'|transloco}}
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-sm btn-secondary" (click)="modal.dismiss()">{{'button.cancel'|transloco}}</button>
    <button type="button" class="btn btn-sm btn-danger" (click)="deleteById()">{{'button.delete'|transloco}}</button>
  </div>
</ng-template>
