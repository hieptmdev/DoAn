<div class="content-wrapper">
  <div class="row">
    <div class="col-12 grid-margin">
      <div class="card">
        <div class="card-body">
          <form class="form-sample" autocomplete="off">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">{{'label.firstname'|transloco}}</label>
                  <div class="col-sm-8">
                    <input type="text" class="form-control" name="firstname" [(ngModel)]="user.firstName"/>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">
                    {{'label.lastname'|transloco}} <span style="color: red;">(*)</span>
                  </label>
                  <div class="col-sm-8">
                    <input type="text" class="form-control" name="lastname" [(ngModel)]="user.lastName"/>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">
                    {{'label.username'|transloco}} <span style="color: red;">(*)</span>
                  </label>
                  <div class="col-sm-8">
                    <input type="text" class="form-control" name="username" [(ngModel)]="user.username"/>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">
                    {{'label.password'|transloco}} <span style="color: red;">(*)</span>
                  </label>
                  <div class="col-sm-8">
                    <input type="password" class="form-control" name="password" [(ngModel)]="user.password"/>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">
                    {{'label.email'|transloco}}
                  </label>
                  <div class="col-sm-8">
                    <input type="email" class="form-control" name="email" [(ngModel)]="user.email"/>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">
                    {{'label.phone'|transloco}} <span style="color: red;">(*)</span>
                  </label>
                  <div class="col-sm-8">
                    <input type="text" class="form-control" name="numberPhone" [(ngModel)]="user.numberPhone"/>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">
                    {{'label.emp.unit'|transloco}} <span style="color: red;">(*)</span>
                  </label>
                  <div class="col-sm-8">
                    <select class="form-control" name="unit" data-size="10" [(ngModel)]="user.unitId" (ngModelChange)="unitChange()">
                      <option>{{'label.choose.org'|transloco}}</option>
                      <option *ngFor="let u of units" [value]="u.id">{{u.name}}</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">
                    {{'label.emp.role'|transloco}} <span style="color: red;">(*)</span>
                  </label>
                  <div class="col-sm-8">
                    <select class="form-control" name="role" data-size="10" [(ngModel)]="user.roleId">
                      <option>{{'label.choose.role'|transloco}}</option>
                      <option *ngFor="let r of roles" [value]="r.id">{{r.name}}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="user.roleId==6">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-sm-4 col-form-label font-label">
                    {{'label.department'|transloco}} <span style="color: red;">(*)</span>
                  </label>
                  <div class="col-sm-8">
                    <select class="form-control" name="role" data-size="10" [(ngModel)]="user.departmentId">
                      <option>{{'label.choose.department'|transloco}}</option>
                      <option *ngFor="let d of departments" [value]="d.id">{{d.name}}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="col-12" style="text-align: center;">
      <button class="btn btn-sm btn-primary" style="margin-right: 5px;"
              (click)="openModalSave(saveModal)">{{'button.save'|transloco}}</button>
      <button class="btn btn-sm btn-primary" (click)="back()">{{'button.back'|transloco}}</button>
    </div>
  </div>
</div>


<ng-template #saveModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">{{'label.notification'|transloco}}</h4>
  </div>
  <div class="modal-body">
    {{'message.save'|transloco}}
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-sm btn-secondary" (click)="modal.dismiss()">{{'button.cancel'|transloco}}</button>
    <button type="button" class="btn btn-sm btn-danger" (click)="saveOrUpdate()">{{'button.ok'|transloco}}</button>
  </div>
</ng-template>
